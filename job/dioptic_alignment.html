<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Framework zur Alignierung von Volumen-Bilddaten</title>

		<meta name="description" content="Test presentation 1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="../reveal.js-master/dist/reset.css">
		<link rel="stylesheet" href="../reveal.js-master/dist/reveal.css">
		<link rel="stylesheet" href="../reveal.js-master/dist/theme/sky_bright.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="../reveal.js-master/plugin/highlight/monokai.css">
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-markdown>
					<textarea data-template>

						### Martin

						| | | |
						|--|--|--|
						|![img](img/sax.jpg)|![img](img/rad.jpg)|![img](img/garten.png)|

						---

						### Martin (Karriere)

						| | | | |
						|--|--|--|--|
						|<img style="display: inline; width: 2700px" src="./img/physik.jpg">|<img style="display: inline; width: 2000px" src="./img/fm_lego.webp">|<img style="display: inline; width: 2200px" src="./img/tem_lego.jpg">|![img](img/programmer.png)|

						---

						### Implementierung eines Frameworks zur Alignierung von Volumen-Bilddaten

						----

						Martin Schorb, 10.4.2025
						---

						### Serial Block-face scanning EM
						
						![img](./img/sbem_01.png)

						---
						### Aufnahmesoftware

						![img](./img/sbemimage.png)
					</textarea>
				</section>

				<section data-background-iframe="https://webknossos.org/datasets/l4dense_motta_et_al_demo-5f33d5340100001800e8cddc/view#3623,3883,1792,0,1.3" data-background-interactive>
					<div style="position: fixed; height: 70px; left:200px; bottom: -110px ; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: #bcd5ee; color: #555; padding: 20px; font-size: 20px; text-align: center;">
						<h3>Ergebnis</h3>
						<p>Perfekt aligniertes Volumen; <span class="fragment highlight-red">Next-Gen FileFormat (NGFF) = OME-Zarr</span></p>
					</div>
					<div style="position: fixed; height: 30px; left:200px; bottom: -700px ; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: #bcd5ee; color: #555; padding: 3px; text-align: center;">
						<p style="font-family: courier; font-size: 7pt">https://webknossos.org/datasets/l4dense_motta_et_al_demo-5f33d5340100001800e8cddc/view#3623,3883,1792,0,1.3</p>
					</div>
				</section>

				<section data-markdown>
					<textarea data-template>
						### Ist-Zustand:
						- Alignment von: <br>
						2D Mosaik (10&times;10) 3D Schnitte (~10.000)
						- von Hand in TrakEM (Fiji) importiert
						- Dauer Alignment: <br>
						mehrere Wochen (lokale Workstation)
						- manuelle Konvertierung (Tage)

						---

						### Welche Tools existieren?

						<img style="display: inline; width: 800px; margin: 0;" src="./img/brain1.png">
						<img style="display: inline; width: 800px; margin: 0;" src="./img/brain2.png">

						| | |
						|--|--|
						| <img style="display: inline; width: 200px; margin: 0;" src="./img/allen.png">  | <img style="display: inline; width: 100px; margin: -12pt;" src="./img/janelia.png"> |

				</textarea>
				</section>

				<section data-background-iframe="./web_data/Big 3D Stitching - Image Analysis - Image.sc Forum.html" data-background-interactive>
					<div style="position: relative; width: 20%; left: -7% ; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: #bcd5ee; color: #555; padding: 20px; font-size: 20px; text-align: left;">
						<h2>Kontakt:</h2>
						<p style="font-family: courier; font-size: 17pt">image.sc</p>
						<p>Erreichbarkeit der Entwickler?</p>
					</div>
				</section>
				<section data-auto-animate>
					<h3>Architektur</h3>
					<div class="r-stack">
						<img class="fragment" style="display: inline; margin: 0;" class="r-stretch" src="./img/Render_scheme1.svg">
						<img class="fragment" style="display: inline; margin: 0;" class="r-stretch" src="./img/Render_scheme0.svg">
					</div>
				</section>

				<section data-auto-animate>
					<h3>Render web services</h3>
						<img style="margin: 0" class="r-stretch" src="./img/render_web1.png">
				</section>
				<section data-auto-animate>
					<h3>Render web services</h3>
						<img style="margin: 0" class="r-stretch" src="./img/render_web2.png">
				</section>

				<section data-background-iframe="https://dash.gallery/dash-covid-xray/" data-background-interactive>
					<div style="position: relative; width: 43%; left:50%; bottom: 200pt ; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: #bcd5ee; color: #555; padding: 20px; font-size: 20px; text-align: center;">
						<h3><span class="fragment highlight-red">Dash</span></h3>
						<p>Python framework for interactive data apps</p>
					</div>
				</section>

				<section data-background-iframe="http://127.0.0.1:8050/" data-background-interactive>
<!--					<div style="position: absolute; width: 500px; left:500px; bottom: 210px ; box-shadow: 0 1px 4px rgba(0,0,0,0.5), 0 5px 25px rgba(0,0,0,0.2); background-color: #bcd5ee; color: #555; padding: 20px; font-size: 20px; text-align: center;">-->
<!--						<h3><span class="fragment highlight-red">Dash</span></h3>-->
<!--						<p>Python framework for interactive data apps.</p>-->
<!--					</div>-->
				</section>

				<section data-auto-animate>
					<h3>workflow</h3>
					<p class="fragment fade-in-then-semi-out"><img style="margin: 0" src="./img/render_flow1.svg"></p>
					<p class="fragment fade-in-then-semi-out"><img style="margin: 0" src="./img/render_flow2.svg"></p>
					<p class="fragment fade-in-then-semi-out"><img style="margin: 0" src="./img/render_flow3.svg"></p>
					<p class="fragment fade-in-then-semi-out"><img style="margin: 0" src="./img/render_flow4.svg"></p>
					<p class="fragment fade-in-then-semi-out"><img style="margin: 0" src="./img/render_flow5.svg"></p>

				</section>

				<section>
					<h3>Backend Code</h3>
					 <ul>
						  <li><p>Python API für Render (API und client Scripts)</p></li>
						  <li><p class="fragment highlight-current-blue" data-fragment-index="3">Python Paket zur Anwendung</p></li>
						  <li><p class="fragment highlight-current-blue" data-fragment-index="2">Launcher für lokale, HPC, Spark</p></li>
					 </ul>

				</section>

				<section>
					<section data-markdown>
						<script type="text/template">
							### `argschema`
							entwickelt am Allen Institute
							- verifizieren von Input-Parametern (Typ, Wert)
							- Parameter
								- Funktionsparameter <!-- .element: class="fragment" -->
								- Dictionary <!-- .element: class="fragment" -->
								- Kommandozeile (argparse) <!-- .element: class="fragment" -->
								- JSON Datei <!-- .element: class="fragment" -->
							- automatische Dokumentation (Sphinx) <!-- .element: class="fragment" -->

						</script>
						</section>
						<section  data-markdown>
							<script type="text/template">
							### `argschema` - Use case
							- JuPyter NB gebastelt , läuft, static filenames (check?)<!-- .element: class="fragment" -->
							- Variablen nach oben, Funktions-Wrap <!-- .element: class="fragment" -->
							- Kommandozeile wäre schön (argparse), Validierung wieder raus <!-- .element: class="fragment" -->
							- Einbetten in andere Module, argparse-Linien kopieren <!-- .element: class="fragment" -->
							- Parameter für Batch-Processing? <!-- .element: class="fragment" -->
							</script>
						</section>
				</section>




				<section data-markdown style="width:120%;left:-14% ;font-size:26pt">
					<script type="text/template" >
						#### `argschema` - Beispiel

						<table style="width:110%">
<tr>
<th style="width:43%">Klasse</th>
<th style="width:52%">Schema</th>
</tr>
<tr>
<td>

```python
from argschema import ArgSchemaParser
from .schema import TwoNumbers

class Multiply(ArgSchemaParser):
    default_schema = TwoNumbers
    def run(self):
        num1 = self.args.get("a")
        num2 = self.args.get("b")

        print(str(num1 * num2))

```

</td>
<td>

```python
from aschema.schemas import ArgSchema
from aschema.fields import Int

class TwoNumbers(ArgSchema):
  a = Int(default=2,
  	  required=True,
	  description='First number (int).')
  b = Int(default=3,
	  required=True,
	  description='Second number (int).')
```

</td>
</tr>
</table>

						```Python
						t1 = Multiply()
						t1.run()
							6
						t2 = Multiply(input_data={'a':5})
						t2.run()
							15
						t3 = Multiply(input_data={'a':"some string"})
							marshmallow.exceptions.ValidationError: {'a': ['Not a valid integer.']}
						```


						```bash
python scratch_1.py  --h
usage: scratch_1.py [-h] [--a A] [--b B] [--input_json INPUT_JSON] [--output_json OUTPUT_JSON] [--log_level LOG_LEVEL]

options:
  -h, --help            show this help message and exit

TwoNumbers:
  --a A                 First number (int). (default=2) (REQUIRED)
  --b B                 Second number (int). (default=3) (REQUIRED)
  --input_json INPUT_JSON
                        file path of input json file
  --output_json OUTPUT_JSON
                        file path to output json file
  --log_level LOG_LEVEL
                        set the logging level of the module (default=ERROR)

						```
					</script>
				</section>


				<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
					<h2>Auto-Animate</h2>
					<p>Automatically animate matching elements across slides with <a href="https://revealjs.com/auto-animate/">Auto-Animate</a>.</p>
					<div class="r-hstack justify-center">
						<div data-id="box1" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
						<div data-id="box2" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
						<div data-id="box3" style="background: #999; width: 50px; height: 50px; margin: 10px; border-radius: 5px;"></div>
					</div>
				</section>
				<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
					<div class="r-hstack justify-center">
						<div data-id="box1" data-auto-animate-delay="0" style="background: cyan; width: 150px; height: 100px; margin: 10px;"></div>
						<div data-id="box2" data-auto-animate-delay="0.5" style="background: magenta; width: 150px; height: 100px; margin: 10px;"></div>
						<div data-id="box3" data-auto-animate-delay="1" style="background: yellow; width: 150px; height: 100px; margin: 10px;"></div>
					</div>
					<h2 style="margin-top: 20px;">Auto-Animate</h2>
				</section>
				<section data-auto-animate data-auto-animate-easing="cubic-bezier(0.770, 0.000, 0.175, 1.000)">
					<div class="r-stack">
						<div data-id="box1" style="background: cyan; width: 300px; height: 300px;"></div>
						<div data-id="box2" style="background: magenta; width: 200px; height: 200px;"></div>
						<div data-id="box3" style="background: yellow; width: 100px; height: 100px;"></div>
					</div>
					<h2 style="margin-top: 20px;">Auto-Animate</h2>
				</section>


				<section>
					<h2>Lightbox</h2>
					Turn any element into a <a href="https://revealjs.com/lightbox/">lightbox</a> using <strong>data‑preview‑image</strong> & <strong>data‑preview‑video</strong>.
					<div class="r-hstack" style="gap: 2rem;">
						<div>
							<pre style="font-size: 12px; width: 100%"><code class="html" data-trim>
								&lt;img src="image.png" data-preview-image="image.png"&gt;
							</code></pre>
							<img src="https://static.slid.es/logo/v2/slides-symbol-1024x1024.png" height="100" data-preview-image>
						</div>
						<div>
							<pre style="font-size: 12px; width: 100%"><code class="html" data-trim>
								&lt;img src="video.png" data-preview-video="video.mp4"&gt;
							</code></pre>
							<img src="https://static.slid.es/site/homepage/v1/homepage-video-editor.png" height="100" data-preview-video="https://static.slid.es/site/homepage/v1/homepage-video-editor.mp4">
						</div>
					</div>
				</section>

				<section>
					<p>Add the <code>r-fit-text</code> class to auto-size text</p>
					<h2 class="r-fit-text">FIT TEXT</h2>
				</section>

				<section>
					<section id="fragments">
						<h2>Fragments</h2>
						<p>Hit the next arrow...</p>
						<p class="fragment">... to step through ...</p>
						<p><span class="fragment">... a</span> <span class="fragment">fragmented</span> <span class="fragment">slide.</span></p>

						<aside class="notes">
							This slide has fragments which are also stepped through in the notes window.
						</aside>
					</section>
					<section>
						<h2>Fragment Styles</h2>
						<p>There's different types of fragments, like:</p>
						<p class="fragment grow">grow</p>
						<p class="fragment shrink">shrink</p>
						<p class="fragment fade-out">fade-out</p>
						<p>
							<span style="display: inline-block;" class="fragment fade-right">fade-right, </span>
							<span style="display: inline-block;" class="fragment fade-up">up, </span>
							<span style="display: inline-block;" class="fragment fade-down">down, </span>
							<span style="display: inline-block;" class="fragment fade-left">left</span>
						</p>
						<p class="fragment fade-in-then-out">fade-in-then-out</p>
						<p class="fragment fade-in-then-semi-out">fade-in-then-semi-out</p>
						<p>Highlight <span class="fragment highlight-red">red</span> <span class="fragment highlight-blue">blue</span> <span class="fragment highlight-green">green</span></p>
					</section>
				</section>

				<section id="transitions">
					<h2>Transition Styles</h2>
					<p>
						You can select from different transitions, like: <br>
						<a href="?transition=none#/transitions">None</a> -
						<a href="?transition=fade#/transitions">Fade</a> -
						<a href="?transition=slide#/transitions">Slide</a> -
						<a href="?transition=convex#/transitions">Convex</a> -
						<a href="?transition=concave#/transitions">Concave</a> -
						<a href="?transition=zoom#/transitions">Zoom</a>
					</p>
				</section>

				<section>
					<h2>Speaker View</h2>
					<p>There's a <a href="https://revealjs.com/speaker-view/">speaker view</a>. It includes a timer, preview of the upcoming slide as well as your speaker notes.</p>
					<p>Press the <em>S</em> key to try it out.</p>

					<aside class="notes">
						Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit 's' on your keyboard).
					</aside>
				</section>

			</div>

		</div>

		<script src="../reveal.js-master/dist/reveal.js"></script>
		<script src="../reveal.js-master/plugin/zoom/zoom.js"></script>
		<script src="../reveal.js-master/plugin/notes/notes.js"></script>
		<script src="../reveal.js-master/plugin/search/search.js"></script>
		<script src="../reveal.js-master/plugin/markdown/markdown.js"></script>
		<script src="../reveal.js-master/plugin/math/math.js"></script>
		<script src="../reveal.js-master/plugin/math/tex-chtml.js"></script>
		<script src="../reveal.js-master/plugin/highlight/highlight.js"></script>
		<script>

			// Also available as an ES module, see:
			// https://revealjs.com/initialization/
			Reveal.initialize({
				controls: false,
				progress: true,
				center: true,
				hash: true,
				slideNumber: false,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight]
			});

		</script>

	</body>
</html>
